<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>9.2属性名表达式</title>
</head>
<body>
    <script>
    //JavaScript语言定义对象的属性有两种方法
    //方法一
    obj.foo=true;
    //方法二
    obj['a'+'bc']=123;
    //上面的方法一是直接用标识符作为属性名:方法二是用表达式作为属性名,这时要将表达式放在方括号内
    //但是,如果使用字面量定义对象(使用大括号),则在ES5中只能使用方法一定义属性

    //ES6允许字面量定义对象时使用方法二(表达式作为对象的属性名),即把表达式放在方括号内
    let propKey='foo';

    let obj={
        [propKey]:true,
        ['a'+'bc']:123
    };
    //下面是另一个例子
    var lastWord="last word";
    var a={
        'first world':"hello",
        [lastWord]:"world"
    }
    
    //表达式还可以用于定义方法名
    var obj={
        ['h'+'ello'](){
            return 'hi';
        }
    };
    obj.hello()     //'hi'

    //注意,属性名表达式与简洁表示法不能同时使用,否则会报错
    //报错
    var foo='bar';
    var bar='abc';
    //报错 var baz={[foo]};
    
    //正确
    var baz={[foo]:'abc'};
    
    //注意,属性名表达式如果是一个对象,默认情况下会自动将对象转为字符串[object Object],这一点要特别小心
    const keyA={a:1};
    const keyB={b:2};

    const myObject={
        [keyA]:"valueA",
        [keyB]:"valueB"
    };

    myObject //Object {[object Object]:"valueB"};
    //上面的代码中,[keyA]和[keyB]得到的都是[object Object],所以[keyB]会把[keyA]覆盖掉,而myObject最优只有一个[object Object]属性.
    
    </script>
</body>
</html>