<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>9.12 Null传导运算符</title>
</head>
<body>
    <script>
        let message={};
    //9.12 Null传导运算符
        //编程实务中,如果读取对象内部的某个属性,往往需要判断该对象是否存在.
        //比如,要读取message.body.user.firstName,安全性写法如下
        const firstName=(message&&message.body&&message.body.user&&message.body.user.firstName)||'default';

        //这样层层判断非常麻烦,因此现在有一提案,其中引入了'Null传导运算符'(null propagation operator)?. ,  可以简化上面的写法
        //const firstName=message?.body?.user?.firstName||"deafult";
        
        //上面的代码有3个?.运算符,只要其中一个返回null或undefined,就不在继续运算,而是返回undefined.
        
        //"Null传导运算符"有4种用法
        //1.obj?.prop:读取对象属性,
        //2.obj?.[expr]:读取对象属性,
        //3.func?.(...args):函数或对象方法的调用,
        //4.new C?.(...args):构造函数的调用

        //传导运算符之所以写成ob?.prop,而不是obj?prop,是为了方便编译器能区分三元运算符?:(比如obj?prop:123);
        //下面是更多的例子
        //如果a是null或undefined,返回undefined
        //否则返回a.b.c().d
        //a?.b.c().d

        //如果a是null或undefined,下面的语句不产生任何效果
        //否则执行a.b=42
        //a?.b=42
        
        //如果a是null或undefined,下面的语句不产生任何效果
       // delete a?.b
       
    </script>
</body>
</html>