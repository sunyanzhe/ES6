<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>14.1 Promise的含义</title>
</head>
<body>
    <input type="text" id="in">
    <script>
    //Promise是异步编程的一种解决方案,比传统的解决方案————回调函数和事件————更合理且更强大.
    //它最早有社区提出并实现,ES6将其写进了语言标准,统一了用法,并原生提供了Promise对象

    //所谓Promise,简单来说就是一个容器,里面保存着某个未来才会结束的事件(通常是一个异步操作)的结果.
    //1.对象的状态不收外界影响.Promise对象代表一个一步操作,有3个状态:Pending(进行中),Fulfilled(已成功)和Rejected(已失败)
        //只有异步操作的结果可以决定当前是哪一种状态,任何其他操作都无法改变这个状态.
        //这也是'Promise'这个名字的由来,他在英语的意思是'承诺',表示其他手段无法改变
    //2.一旦状态改变就不会再变,任何时候都可以得到这个结果.Promise对象的状态改变只有两种可能:
        //从Pending变为Fulfilled,和从Pending变为Rejected.只要这两种情况发生,状态就凝固了,不会在变,而是一直保持这个结果,这时就成为Resolved(定型)
        //就算改变已经发生,在对Promise对象添加一个回调函数,也会立即得到这个结果,这与事件绑定完全不同.
        //事件的特点是,如果错过了它,再去监听是得不到结果的
    
    //注意:为了行文方便,本章后面的Resolved统一值Fulfilled状态,不包含Rejected状态

    //有了Promise对象,就可以将异步操作以同步操作的流程表达出来,避免了层层嵌套的回调函数,此外,Promise对象提供了统一的接口,使得控制异步操作更加容易
    //Promise也有一些缺点,首先,无法取消Promise,一旦新建它就会立即执行,无法中途取消
    //其次,如果不设置回调函数,Promise内部抛出的错误不会反应到外部.
    //再者,当处于Pending状态是,无法的值目前进展到哪一个阶段(刚刚开始还是即将完成)

    //如果某些事件不断地反复发生,一般来说,使用Stream模式是比部署Promse更好的选择
    </script>
</body>
</html>